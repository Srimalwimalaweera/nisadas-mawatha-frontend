/* නවීකරණය කරන ලද Loading Screen Styles.
  මෙය දැන් header/footer වලට උඩින් පාවෙන overlay එකක් නොවේ.
  එය ප්‍රධාන content එක ලෙස පිටුවේ කොටසක් ලෙස ක්‍රියාත්මක වේ.
*/
.loading-overlay {
  /* Layout එක සකස් කිරීම */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  
  /* පිටුවේ උස අනුව loader එකට අවම උසක් ලබා දීම.
     මෙය content අඩු පිටු වලදී footer එක උඩට ඒම වළක්වයි. */
  min-height: calc(100vh - 200px); /* 100vh = සම්පූර්ණ උස, 200px = header/footer වලට ඉඩක් */
  padding: 2rem;
  box-sizing: border-box;
  
  /* Logo සහ animation එක අතර ඉඩක් තැබීම. 
     clamp() මගින් screen size එකට අනුව ඉඩ වෙනස් වේ. */
  gap: clamp(2rem, 8vw, 5rem);
  
  /* Text selection සහ tap highlight ඉවත් කිරීම */
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-tap-highlight-color: transparent;

  padding-bottom: 15vh;
}

/* පෙර තිබූ Glass effect එක සහ fixed position එක ඉවත් කර ඇත.
  Dark mode සඳහා වූ අනවශ්‍ය background නීති ද ඉවත් කර ඇත.
*/

.loading-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
}

.loading-text {
  /* Screen size එකට අනුව font size එක වෙනස් වීම */
  font-size: clamp(1rem, 3vw, 1.1rem);
  /* Theme එකට ගැලපෙන ලෙස text වර්ණය ලබා ගැනීම */
  color: var(--text-color);
  font-weight: 500;
  opacity: 0.8; /* තරමක් විනිවිද පෙනෙන ලෙස සකස් කිරීම */
}

/* --- Responsive SVG Animation --- */
.book-shelf-loader {
  /* Screen size එකට අනුව animation එකේ ප්‍රමාණය වෙනස් වීම */
  width: clamp(80px, 18vw, 110px);
  height: auto;
  animation: start-loader-animation 2s infinite ease-in-out;
}

/* --- Responsive Logo --- */
.loading-top-logo {
  position: relative; /* Absolute ඉවත් කර ඇත */
  top: auto;
  left: auto;
  /* Screen size එකට අනුව logo එකේ ප්‍රමාණය වෙනස් වීම */
  height: clamp(60px, 15vw, 90px);
  width: auto;
  
  /* Animation එක සඳහා මූලික settings */
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
}

.loading-top-logo.visible {
  opacity: 1;
  transform: scale(1);
}

/* Mobile view media query එක ඉවත් කර ඇත.
  දැන් ඉහත styles සියල්ලම mobile සහ desktop දෙකටම responsive ලෙස ක්‍රියා කරයි.
*/

/* --- Animations (වෙනසක් සිදු කර නැත) --- */
@keyframes book-bounce {
  0% { transform: translateY(0); }
  40% { transform: translateY(-10px); }
  80% { transform: translateY(0); }
  100% { transform: translateY(0); }
}

@keyframes shelf-lift {
  0% { transform: translateY(0) rotate(0); }
  20% { transform: translateY(-4px) rotate(10deg); }
  40% { transform: translateY(-4px) rotate(0); }
  60% { transform: translateY(-4px) rotate(-10deg); }
  80% { transform: translateY(0); }
  100% { transform: translateY(0); }
}

@keyframes start-loader-animation {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.9; }
}

.book-shelf-loader .book-shelf__book {
  animation: book-bounce 1.2s ease infinite;
}
.book-shelf-loader .book-shelf__book--two {
  animation-delay: 0.1s;
}
.book-shelf-loader .book-shelf__book--three {
  animation-delay: 0.2s;
}
.book-shelf-loader .book-shelf__shelf {
  animation: shelf-lift 1.2s ease infinite;
  transform-origin: 50% 50%;
}
